and refactor the program into these 2 stacks.