which takes an end state object as input.