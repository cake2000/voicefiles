For your task, please add some similar logic for the other 3 directions.