This is mostly the code we used in the previous lesson.