with the new forloop added at beginning of the get new command function.