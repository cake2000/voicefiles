After that, the get new command function can be significantly simplified: