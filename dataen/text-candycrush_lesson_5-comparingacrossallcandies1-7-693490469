I have already added the logic to use these variables at the end.