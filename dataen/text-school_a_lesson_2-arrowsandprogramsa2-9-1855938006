Note that the arrows in the program need to match with those in the map one by one.