please improve the "calculate distance" block.