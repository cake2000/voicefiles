The calculation of the subarray's sum looks redundant. 