In your gamebot code, the getLegal Ball IDs function used 3-levels of conditional statement,