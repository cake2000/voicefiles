and I have changed the "get new command" function to only use this new function.