which calculates and then sends the next command.