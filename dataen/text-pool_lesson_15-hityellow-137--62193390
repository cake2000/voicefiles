Now let's implement this new logic.