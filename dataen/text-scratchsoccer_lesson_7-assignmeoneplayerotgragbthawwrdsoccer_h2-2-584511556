We can move all the existing logic below into a new block "attack and defense",