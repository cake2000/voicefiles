This is the effect after adding the check.