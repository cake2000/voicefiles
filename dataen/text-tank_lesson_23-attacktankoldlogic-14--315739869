the function will calculate the shortest path and move along it. 