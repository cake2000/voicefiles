let's enhance it to handle all shells.