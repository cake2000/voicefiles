You need to recalculate the "middle" variable before each step,