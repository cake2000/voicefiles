In this loop, we repeatedly check if we are too close to any obstacle.