we check each pair of neighbors one by one.