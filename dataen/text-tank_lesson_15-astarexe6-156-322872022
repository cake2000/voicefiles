Note that these steps are very similar to the attack tank function.