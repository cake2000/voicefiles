First, I have added a new function called "get end state distance",