You are expected to use the "if then" block first in the definition of "check and swap".