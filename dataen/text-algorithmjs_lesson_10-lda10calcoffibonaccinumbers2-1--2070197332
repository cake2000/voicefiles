In such a scenario, we can use dynamic programming to optimize the calculation. 