Can you think about how to simplify this program?