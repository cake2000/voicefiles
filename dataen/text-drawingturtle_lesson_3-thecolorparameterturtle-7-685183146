You need to modify the definition of "polygon" and "shape" with a new parameter "color",